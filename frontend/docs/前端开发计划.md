# 前端开发计划

## 📋 文档说明

**项目名称**：兴趣追踪平台 (Interest Tracker) - 前端  
**版本**：v1.0  
**创建日期**：2025年12月16日  
**最后更新**：2025年12月16日

本文档详细规划了 Interest Tracker 项目的前端开发计划，包括各阶段的开发任务、技术实现要点、时间估算和里程碑。

---

## 一、项目概述

### 1.1 项目定位

Interest Tracker 前端是一个现代化的 Vue 3 单页应用，提供统一的用户界面来管理摄影、影视、音乐、球赛四大兴趣领域的内容，并通过数据可视化帮助用户了解自己的兴趣习惯。

### 1.2 技术栈

- **框架**：Vue 3 (Composition API)
- **语言**：TypeScript
- **构建工具**：Vite
- **UI 框架**：Element Plus
- **状态管理**：Pinia
- **路由**：Vue Router
- **HTTP 客户端**：Axios
- **样式**：Tailwind CSS
- **图表**：ECharts（待集成）
- **国际化**：vue-i18n（待集成）

### 1.3 设计风格

- **主题**：深色主题为主，支持浅色主题切换
- **色彩**：科技蓝 (`#00d4ff`) / 青色 (`#00ffcc`) 为主色调
- **风格**：现代化、科技感、苹果风格美学
- **特效**：玻璃态效果、霓虹发光、3D卡片、背景特效
- **响应式**：完美适配移动端和桌面端

---

## 二、开发阶段总览

项目开发分为 **6个主要阶段**，预计总开发周期 **12-16周**：

| 阶段 | 名称 | 预计时间 | 状态 | 优先级 |
|------|------|---------|------|--------|
| 阶段一 | 项目初始化与基础框架 | 1-2周 | ✅ 已完成 | P0 |
| 阶段二 | 用户认证与授权 | 1-2周 | ⏳ 待开始 | P0 |
| 阶段三 | 核心功能模块开发 | 5-7周 | ⏳ 待开始 | P0 |
| 阶段四 | 数据分析与可视化 | 2-3周 | ⏳ 待开始 | P1 |
| 阶段五 | AI 功能与创新特性 | 2-3周 | ⏳ 待开始 | P1 |
| 阶段六 | 优化与完善 | 1-2周 | ⏳ 待开始 | P1 |

---

## 三、阶段一：项目初始化与基础框架 ✅

### 3.1 阶段目标

搭建前端项目基础架构，包括项目结构、路由系统、状态管理、HTTP请求封装、UI组件库集成等。

### 3.2 已完成任务

#### 3.2.1 项目结构
- ✅ Vue 3 + TypeScript + Vite 项目初始化
- ✅ 目录结构组织（views、components、api、store、utils等）
- ✅ 路径别名配置（@ → src）
- ✅ TypeScript 配置
- ✅ ESLint + Prettier 代码规范配置

#### 3.2.2 核心配置
- ✅ Vite 配置（代理、路径别名）
- ✅ Tailwind CSS 配置（自定义颜色、动画）
- ✅ Element Plus 集成
- ✅ 环境变量配置（.env.development, .env.production）

#### 3.2.3 路由系统
- ✅ Vue Router 配置
- ✅ 路由守卫（登录验证）
- ✅ 路由懒加载
- ✅ 页面路由定义（Dashboard、Photo、Movie、Music、Match、Timeline、Profile、Login）

#### 3.2.4 状态管理
- ✅ Pinia 配置
- ✅ 用户状态管理（user store）
- ✅ 主题状态管理（theme store）

#### 3.2.5 HTTP 请求封装
- ✅ Axios 实例配置
- ✅ 请求拦截器（Token 自动添加）
- ✅ 响应拦截器（统一错误处理）
- ✅ TypeScript 类型定义（CommonResult）

#### 3.2.6 布局系统
- ✅ MainLayout 主布局
- ✅ Header 顶部导航栏
- ✅ Sidebar 侧边栏（桌面端）
- ✅ MobileNav 移动端导航
- ✅ BackgroundEffects 背景特效组件

#### 3.2.7 UI 设计系统
- ✅ 全局样式配置（main.css）
- ✅ 主题变量定义（theme.css）
- ✅ 自定义样式类（glass-effect、neon-glow、card-3d等）
- ✅ 响应式设计
- ✅ 9种背景特效方案

#### 3.2.8 页面基础结构
- ✅ Dashboard 仪表板（基础UI + 假数据）
- ✅ Login 登录页（基础UI）
- ✅ Movie 影视页（基础UI + 假数据）
- ✅ Music 音乐页（基础UI + 假数据）
- ✅ Photo 摄影页（占位符）
- ✅ Match 球赛页（占位符）
- ✅ Timeline 时间线页（基础UI + 假数据）
- ✅ Profile 个人中心（占位符）

#### 3.2.9 文档
- ✅ 前端设计提示词指南
- ✅ 背景特效方案文档
- ✅ 前端项目初始化总结

### 3.3 技术要点

- **模块化设计**：清晰的目录结构，便于维护和扩展
- **类型安全**：TypeScript 严格模式，完善的类型定义
- **代码规范**：ESLint + Prettier 统一代码风格
- **响应式设计**：Tailwind CSS 响应式工具类
- **视觉效果**：丰富的动画和特效，提升用户体验

---

## 四、阶段二：用户认证与授权（1-2周）

### 4.1 阶段目标

实现完整的用户认证流程，包括登录、注册、登出、Token管理、用户信息展示等功能。

### 4.2 开发任务清单

#### 4.2.1 登录功能完善

**任务 1：登录页面**
- [ ] 完善登录表单UI（邮箱/手机号、密码）
- [ ] 表单验证（邮箱格式、密码强度）
- [ ] 记住我功能
- [ ] 忘记密码链接（占位）
- [ ] 登录按钮加载状态
- [ ] 错误提示展示

**任务 2：登录逻辑**
- [ ] 调用登录API (`/api/auth/login`)
- [ ] Token 存储到 localStorage
- [ ] 登录成功后跳转到 Dashboard
- [ ] 处理登录失败情况
- [ ] Token 过期处理

**任务 3：注册功能**
- [ ] 注册页面UI（邮箱、密码、确认密码、昵称）
- [ ] 表单验证
- [ ] 调用注册API (`/api/auth/register`)
- [ ] 注册成功后自动登录
- [ ] 错误提示

#### 4.2.2 用户信息管理

**任务 1：用户信息展示**
- [ ] Header 中显示用户头像和昵称
- [ ] 用户下拉菜单（个人中心、设置、登出）
- [ ] 调用获取用户信息API (`/api/user/info`)
- [ ] 用户信息缓存（Pinia store）

**任务 2：用户信息更新**
- [ ] 个人中心页面完善
- [ ] 用户信息编辑表单
- [ ] 头像上传功能
- [ ] 调用更新用户信息API (`/api/user/update`)
- [ ] 实时更新Header中的用户信息

#### 4.2.3 Token 管理

**任务 1：Token 存储与读取**
- [ ] Token 存储到 localStorage
- [ ] Token 自动添加到请求头
- [ ] Token 过期检测
- [ ] Token 刷新机制（如果后端支持）

**任务 2：登出功能**
- [ ] 登出按钮功能
- [ ] 清除 Token 和用户信息
- [ ] 调用登出API (`/api/auth/logout`)
- [ ] 跳转到登录页

#### 4.2.4 路由守卫完善

**任务 1：权限控制**
- [ ] 完善路由守卫逻辑
- [ ] 未登录用户访问受保护路由时跳转登录
- [ ] 已登录用户访问登录页时跳转首页
- [ ] 记住登录前的路由，登录后跳转回去

**任务 2：Token 验证**
- [ ] 页面加载时验证 Token 有效性
- [ ] Token 无效时清除并跳转登录
- [ ] 401 错误自动处理

### 4.3 接口对接

| 接口 | 方法 | 路径 | 状态 |
|------|------|------|------|
| 用户登录 | POST | `/api/auth/login` | ⏳ 待对接 |
| 用户注册 | POST | `/api/auth/register` | ⏳ 待对接 |
| 用户登出 | POST | `/api/auth/logout` | ⏳ 待对接 |
| 获取用户信息 | GET | `/api/user/info` | ⏳ 待对接 |
| 更新用户信息 | PUT | `/api/user/update` | ⏳ 待对接 |

### 4.4 验收标准

- [ ] 用户可以正常登录和注册
- [ ] Token 可以正确存储和使用
- [ ] 路由守卫正常工作
- [ ] 用户信息可以正常展示和更新
- [ ] 登出功能正常
- [ ] 错误提示友好

---

## 五、阶段三：核心功能模块开发（5-7周）

### 5.1 阶段目标

实现四大兴趣领域（摄影、影视、音乐、球赛）的完整功能，包括列表展示、详情查看、添加、编辑、删除、搜索、筛选等。

### 5.2 模块一：摄影作品管理（1.5-2周）

#### 5.2.1 开发任务

**任务 1：照片列表页面**
- [ ] 照片网格/瀑布流布局
- [ ] 照片卡片组件（缩略图、标题、标签、拍摄时间）
- [ ] 分页功能
- [ ] 筛选功能（按标签、时间范围、设备）
- [ ] 排序功能（按时间、拍摄时间）
- [ ] 搜索功能（按标题、描述）
- [ ] 加载状态（骨架屏）
- [ ] 空状态展示

**任务 2：照片上传功能**
- [ ] 照片上传组件（支持多选、拖拽上传）
- [ ] 图片预览功能
- [ ] 图片压缩（前端压缩，减少上传大小）
- [ ] 上传进度显示
- [ ] 批量上传
- [ ] 上传表单（标题、描述、标签、拍摄时间、地点）
- [ ] EXIF 信息自动提取（如果前端支持）
- [ ] 调用上传API (`POST /api/photos`)

**任务 3：照片详情页面**
- [ ] 照片大图展示（支持缩放、全屏）
- [ ] 照片信息展示（标题、描述、标签、EXIF信息、拍摄时间、地点）
- [ ] 编辑按钮（跳转编辑页面）
- [ ] 删除按钮（确认对话框）
- [ ] 上一张/下一张切换
- [ ] 调用详情API (`GET /api/photos/{id}`)

**任务 4：照片编辑功能**
- [ ] 照片编辑表单
- [ ] 标题、描述编辑
- [ ] 标签管理（添加、删除标签）
- [ ] 拍摄时间、地点编辑
- [ ] 保存功能
- [ ] 调用更新API (`PUT /api/photos/{id}`)

**任务 5：AI 照片分析**
- [ ] AI 分析按钮
- [ ] 分析加载状态
- [ ] AI 标签展示
- [ ] 照片质量评估展示
- [ ] 改进建议展示
- [ ] 调用AI分析API (`POST /api/photos/{id}/ai-tags`)

**任务 6：相册管理**
- [ ] 相册列表页面
- [ ] 创建相册功能
- [ ] 相册详情页面（照片列表）
- [ ] 添加照片到相册
- [ ] 从相册移除照片
- [ ] 相册编辑和删除

**任务 7：时间线视图**
- [ ] 时间线布局
- [ ] 按时间分组展示照片
- [ ] 时间线节点动画
- [ ] 调用时间线API (`GET /api/photos/timeline`)

#### 5.2.2 接口对接

| 接口 | 方法 | 路径 | 状态 |
|------|------|------|------|
| 上传照片 | POST | `/api/photos` | ⏳ 待对接 |
| 照片列表 | GET | `/api/photos` | ⏳ 待对接 |
| 照片详情 | GET | `/api/photos/{id}` | ⏳ 待对接 |
| 更新照片 | PUT | `/api/photos/{id}` | ⏳ 待对接 |
| 删除照片 | DELETE | `/api/photos/{id}` | ⏳ 待对接 |
| 时间线视图 | GET | `/api/photos/timeline` | ⏳ 待对接 |
| AI 分析 | POST | `/api/photos/{id}/ai-tags` | ⏳ 待对接 |
| 创建相册 | POST | `/api/album` | ⏳ 待对接 |
| 相册列表 | GET | `/api/album/list` | ⏳ 待对接 |
| 相册详情 | GET | `/api/album/{id}` | ⏳ 待对接 |
| 添加照片到相册 | POST | `/api/album/{id}/photos` | ⏳ 待对接 |

#### 5.2.3 技术要点

- **图片处理**：使用 `compressorjs` 进行前端图片压缩
- **瀑布流布局**：使用 `vue-waterfall-plugin` 或自定义实现
- **图片懒加载**：使用 Intersection Observer API
- **拖拽上传**：使用 HTML5 Drag & Drop API
- **EXIF 提取**：使用 `exif-js` 库（可选）

### 5.3 模块二：影视剧追踪（1.5-2周）

#### 5.3.1 开发任务

**任务 1：影视列表页面完善**
- [ ] 完善影视卡片展示（已有基础UI）
- [ ] 分页功能
- [ ] 筛选功能（按状态、类型、标签、评分）
- [ ] 排序功能（按时间、评分、年份）
- [ ] 搜索功能（按标题、导演、演员）
- [ ] 加载状态和空状态
- [ ] 调用列表API (`GET /api/movies`)

**任务 2：TMDB 搜索功能**
- [ ] 搜索对话框组件
- [ ] 搜索输入框（防抖处理）
- [ ] 搜索结果列表展示
- [ ] 搜索结果卡片（海报、标题、年份、类型）
- [ ] 选择搜索结果
- [ ] 调用搜索API (`GET /api/movies/search`)

**任务 3：添加影视记录**
- [ ] 添加影视对话框/页面
- [ ] 两种模式：TMDB搜索添加、手动添加
- [ ] TMDB搜索模式：选择搜索结果后自动填充信息
- [ ] 手动添加模式：表单填写（标题、类型、年份、海报URL等）
- [ ] 表单验证
- [ ] 调用创建API (`POST /api/movies` 或 `POST /api/movies/create-from-tmdb`)

**任务 4：影视详情页面**
- [ ] 详情页面布局
- [ ] 海报大图展示
- [ ] 基本信息展示（标题、类型、年份、导演、演员、简介）
- [ ] 评分展示和编辑
- [ ] 状态管理（想看/在看/已看/弃剧）
- [ ] 标签展示和管理
- [ ] 观看记录列表
- [ ] 编辑和删除按钮
- [ ] 调用详情API (`GET /api/movies/{id}`)

**任务 5：影视编辑功能**
- [ ] 编辑表单
- [ ] 基本信息编辑
- [ ] 评分编辑（0.5分精度）
- [ ] 状态更新
- [ ] 标签管理
- [ ] 调用更新API (`PUT /api/movies/{id}`)

**任务 6：观看记录管理**
- [ ] 添加观看记录功能
- [ ] 观看记录列表（日期、评分、评价）
- [ ] 观看记录编辑和删除
- [ ] 调用观看记录API

**任务 7：AI 标签生成**
- [ ] AI 生成标签按钮
- [ ] 生成加载状态
- [ ] 生成的标签展示
- [ ] 调用AI标签API (`POST /api/movies/{id}/ai-tags`)

#### 5.3.2 接口对接

| 接口 | 方法 | 路径 | 状态 |
|------|------|------|------|
| 搜索影视 | GET | `/api/movies/search` | ⏳ 待对接 |
| 创建影视 | POST | `/api/movies` | ⏳ 待对接 |
| 从TMDB创建 | POST | `/api/movies/create-from-tmdb` | ⏳ 待对接 |
| 影视列表 | GET | `/api/movies` | ⏳ 待对接 |
| 影视详情 | GET | `/api/movies/{id}` | ⏳ 待对接 |
| 更新影视 | PUT | `/api/movies/{id}` | ⏳ 待对接 |
| 删除影视 | DELETE | `/api/movies/{id}` | ⏳ 待对接 |
| AI 生成标签 | POST | `/api/movies/{id}/ai-tags` | ⏳ 待对接 |
| 添加观看记录 | POST | `/api/movie/record` | ⏳ 待对接 |
| 观看记录列表 | GET | `/api/movie/record/list` | ⏳ 待对接 |

#### 5.3.3 技术要点

- **防抖处理**：搜索输入使用防抖，减少API调用
- **图片懒加载**：海报图片懒加载
- **状态管理**：使用 Pinia 管理影视列表状态
- **表单验证**：使用 Element Plus 表单验证

### 5.4 模块三：音乐管理（1.5-2周）

#### 5.4.1 开发任务

**任务 1：音乐列表页面完善**
- [ ] 完善音乐卡片展示（已有基础UI）
- [ ] 列表/网格视图切换
- [ ] 分页功能
- [ ] 筛选功能（按标签、艺术家、专辑）
- [ ] 排序功能（按时间、播放次数）
- [ ] 搜索功能（按歌曲名、艺术家）
- [ ] 调用列表API (`GET /api/song/list`)

**任务 2：Last.fm 搜索功能**
- [ ] 搜索对话框组件
- [ ] 搜索输入框（防抖处理）
- [ ] 搜索结果列表展示
- [ ] 搜索结果卡片（封面、歌曲名、艺术家、专辑）
- [ ] 选择搜索结果
- [ ] 调用搜索API (`GET /api/song/search`)

**任务 3：添加音乐记录**
- [ ] 添加音乐对话框/页面
- [ ] 两种模式：Last.fm搜索添加、手动添加
- [ ] Last.fm搜索模式：选择搜索结果后自动填充信息
- [ ] 手动添加模式：表单填写
- [ ] 调用创建API (`POST /api/song` 或 `POST /api/song/create-from-lastfm`)

**任务 4：音乐详情页面**
- [ ] 详情页面布局
- [ ] 专辑封面展示
- [ ] 基本信息展示（歌曲名、艺术家、专辑、时长）
- [ ] 标签展示和管理
- [ ] 播放记录列表
- [ ] 编辑和删除按钮
- [ ] 调用详情API (`GET /api/song/{id}`)

**任务 5：歌单管理**
- [ ] 歌单列表页面
- [ ] 创建歌单功能
- [ ] 歌单详情页面（歌曲列表）
- [ ] 添加歌曲到歌单
- [ ] 从歌单移除歌曲
- [ ] 歌单编辑和删除
- [ ] 歌单歌曲排序（拖拽排序）

**任务 6：播放记录**
- [ ] 播放记录列表
- [ ] 播放统计展示
- [ ] 调用播放记录API

**任务 7：AI 标签生成**
- [ ] AI 生成标签按钮
- [ ] 调用AI标签API (`POST /api/song/{id}/generate-tags`)

#### 5.4.2 接口对接

| 接口 | 方法 | 路径 | 状态 |
|------|------|------|------|
| 搜索歌曲 | GET | `/api/song/search` | ⏳ 待对接 |
| 创建歌曲 | POST | `/api/song` | ⏳ 待对接 |
| 从Last.fm创建 | POST | `/api/song/create-from-lastfm` | ⏳ 待对接 |
| 歌曲列表 | GET | `/api/song/list` | ⏳ 待对接 |
| 歌曲详情 | GET | `/api/song/{id}` | ⏳ 待对接 |
| 更新歌曲 | PUT | `/api/song/{id}` | ⏳ 待对接 |
| 删除歌曲 | DELETE | `/api/song/{id}` | ⏳ 待对接 |
| AI 生成标签 | POST | `/api/song/{id}/generate-tags` | ⏳ 待对接 |
| 创建歌单 | POST | `/api/playlist` | ⏳ 待对接 |
| 歌单列表 | GET | `/api/playlist/list` | ⏳ 待对接 |
| 歌单详情 | GET | `/api/playlist/{id}` | ⏳ 待对接 |
| 添加歌曲到歌单 | POST | `/api/playlist/{id}/songs` | ⏳ 待对接 |
| 播放记录 | POST | `/api/play/record` | ⏳ 待对接 |
| 播放历史 | GET | `/api/play/record/list` | ⏳ 待对接 |

#### 5.4.3 技术要点

- **拖拽排序**：使用 `vuedraggable` 实现歌单歌曲排序
- **音频播放**：如果需要播放功能，使用 HTML5 Audio API
- **封面图片**：处理图片加载失败的情况

### 5.5 模块四：球赛追踪（1-1.5周）

#### 5.5.1 开发任务

**任务 1：比赛记录列表**
- [ ] 比赛记录卡片展示
- [ ] 列表布局
- [ ] 分页功能
- [ ] 筛选功能（按球队、比赛类型、观赛方式、日期）
- [ ] 排序功能（按时间）
- [ ] 调用列表API (`GET /api/match/list`)

**任务 2：添加比赛记录**
- [ ] 添加比赛对话框/页面
- [ ] 表单字段（比赛名称、主队、客队、比赛时间、比赛类型、观赛方式、比分、评价）
- [ ] 球队选择（支持搜索）
- [ ] 表单验证
- [ ] 调用创建API (`POST /api/match`)

**任务 3：比赛详情页面**
- [ ] 详情页面布局
- [ ] 比赛信息展示
- [ ] 编辑和删除按钮
- [ ] 调用详情API (`GET /api/match/{id}`)

**任务 4：球队管理**
- [ ] 球队列表页面
- [ ] 添加球队功能
- [ ] 关注球队功能
- [ ] 我的关注列表
- [ ] 调用球队API

**任务 5：赛程日历**
- [ ] 日历视图组件
- [ ] 按日期展示比赛
- [ ] 调用日历API (`GET /api/match/calendar`)

#### 5.5.2 接口对接

| 接口 | 方法 | 路径 | 状态 |
|------|------|------|------|
| 创建比赛 | POST | `/api/match` | ⏳ 待对接 |
| 比赛列表 | GET | `/api/match/list` | ⏳ 待对接 |
| 比赛详情 | GET | `/api/match/{id}` | ⏳ 待对接 |
| 更新比赛 | PUT | `/api/match/{id}` | ⏳ 待对接 |
| 删除比赛 | DELETE | `/api/match/{id}` | ⏳ 待对接 |
| 赛程日历 | GET | `/api/match/calendar` | ⏳ 待对接 |
| 球队列表 | GET | `/api/team/list` | ⏳ 待对接 |
| 关注球队 | POST | `/api/team/follow` | ⏳ 待对接 |
| 我的关注 | GET | `/api/team/follow/list` | ⏳ 待对接 |

#### 5.5.3 技术要点

- **日历组件**：使用 Element Plus 的日历组件或自定义实现
- **日期选择**：使用 Element Plus 的日期选择器

### 5.6 验收标准

- [ ] 四大模块的基础功能完整
- [ ] 列表、详情、添加、编辑、删除功能正常
- [ ] 搜索和筛选功能正常
- [ ] 分页功能正常
- [ ] 图片/文件上传功能正常
- [ ] 错误处理完善
- [ ] 加载状态和空状态友好

---

## 六、阶段四：数据分析与可视化（2-3周）

### 6.1 阶段目标

实现数据统计、分析和可视化功能，包括仪表盘数据展示、各类统计图表、数据洞察等。

### 6.2 开发任务清单

#### 6.2.1 ECharts 集成

**任务 1：ECharts 配置**
- [ ] 安装 ECharts 和 vue-echarts
- [ ] 创建 ECharts 封装组件
- [ ] 配置主题（深色主题）
- [ ] 响应式配置

#### 6.2.2 仪表盘完善

**任务 1：统计数据展示**
- [ ] 完善 Dashboard 页面
- [ ] 调用统计数据API (`GET /api/dashboard/overview`)
- [ ] 今日概览数据展示
- [ ] 数据卡片动画效果

**任务 2：数据图表**
- [ ] 摄影数据图表（拍摄数量趋势、设备统计、地点热力图）
- [ ] 影视数据图表（观影数量、类型分布、评分分布、观影时长）
- [ ] 音乐数据图表（听歌时长、歌手排名、类型分布、播放次数）
- [ ] 球赛数据图表（观赛场次、观赛方式分布、支持球队胜率）
- [ ] 调用统计API (`GET /api/statistics/*`)

**任务 3：数据洞察面板**
- [ ] 兴趣活动热力图
- [ ] 时间投入占比饼图
- [ ] 时间趋势折线图
- [ ] 调用洞察API (`GET /api/dashboard/insights`)

**任务 4：个性化统计**
- [ ] 年度总结数据展示
- [ ] 成长曲线图表
- [ ] 调用个性化API (`GET /api/dashboard/personal`)

#### 6.2.3 时间线页面完善

**任务 1：时间线数据展示**
- [ ] 完善 Timeline 页面
- [ ] 调用时间线API
- [ ] 按时间分组展示所有活动
- [ ] 时间线节点动画
- [ ] 筛选功能（按类型、时间范围）

#### 6.2.4 图表类型

需要实现的图表类型：
- 折线图（趋势分析）
- 柱状图（数量对比）
- 饼图（占比分析）
- 热力图（活动分布）
- 雷达图（多维度分析）
- 散点图（关联分析）

### 6.3 接口对接

| 接口 | 方法 | 路径 | 状态 |
|------|------|------|------|
| 今日概览 | GET | `/api/dashboard/overview` | ⏳ 待对接 |
| 数据洞察 | GET | `/api/dashboard/insights` | ⏳ 待对接 |
| 个性化统计 | GET | `/api/dashboard/personal` | ⏳ 待对接 |
| 热力图数据 | GET | `/api/dashboard/heatmap` | ⏳ 待对接 |
| 摄影统计 | GET | `/api/statistics/photo` | ⏳ 待对接 |
| 影视统计 | GET | `/api/statistics/movie` | ⏳ 待对接 |
| 音乐统计 | GET | `/api/statistics/music` | ⏳ 待对接 |
| 球赛统计 | GET | `/api/statistics/match` | ⏳ 待对接 |

### 6.4 技术要点

- **ECharts 集成**：使用 `vue-echarts` 或直接使用 ECharts
- **响应式图表**：图表自适应窗口大小
- **深色主题**：配置 ECharts 深色主题
- **数据格式化**：后端返回标准化的图表数据格式
- **性能优化**：大数据量时使用数据采样

### 6.5 验收标准

- [ ] 各类统计数据准确展示
- [ ] 图表渲染正常
- [ ] 图表交互功能正常（缩放、筛选等）
- [ ] 响应式适配正常
- [ ] 数据加载状态友好

---

## 七、阶段五：AI 功能与创新特性（2-3周）

### 7.1 阶段目标

集成 AI 功能，实现智能推荐、兴趣关联分析、时光回顾等创新功能的前端展示。

### 7.2 开发任务清单

#### 7.2.1 AI 推荐系统

**任务 1：AI 影视推荐**
- [ ] 推荐卡片组件
- [ ] 推荐理由展示（AI生成）
- [ ] 推荐列表页面
- [ ] 调用推荐API (`GET /api/recommend/movie`)

**任务 2：AI 音乐推荐**
- [ ] 推荐卡片组件
- [ ] 推荐理由展示
- [ ] 调用推荐API (`GET /api/recommend/music`)

**任务 3：AI 摄影推荐**
- [ ] 推荐内容展示
- [ ] 调用推荐API (`GET /api/recommend/photo`)

#### 7.2.2 AI 兴趣关联分析

**任务 1：关联分析展示**
- [ ] 关联分析页面
- [ ] 关联关系可视化（关系图）
- [ ] AI 分析报告展示
- [ ] 调用关联分析API (`GET /api/analysis/correlation`)

**任务 2：个性化画像**
- [ ] 画像页面
- [ ] AI 生成的画像描述展示
- [ ] 兴趣标签云
- [ ] 调用画像API (`GET /api/analysis/profile`)

#### 7.2.3 AI 时光回顾

**任务 1：年度回顾**
- [ ] 年度回顾页面
- [ ] AI 生成的年度报告文本展示
- [ ] 数据可视化展示
- [ ] 调用年度回顾API (`GET /api/memory/yearly`)

**任务 2：回忆功能**
- [ ] "一年前的今天"功能
- [ ] "这个季节"回顾
- [ ] AI 生成的回忆描述展示
- [ ] 调用回忆API (`GET /api/memory/today/{date}`)

**任务 3：时光轴**
- [ ] 时光轴页面完善
- [ ] 所有活动的时光轴展示
- [ ] 调用时光轴API (`GET /api/memory/timeline`)

#### 7.2.4 AI 评价生成

**任务 1：评价扩展**
- [ ] 评价输入框
- [ ] AI 扩展按钮
- [ ] 扩展后的评价展示
- [ ] 调用评价扩展API (`POST /api/comment/expand`)

#### 7.2.5 数据导出

**任务 1：导出功能**
- [ ] 导出按钮
- [ ] 导出格式选择（Excel、CSV、PDF）
- [ ] 导出进度显示
- [ ] 调用导出API (`GET /api/export/*`)

### 7.3 接口对接

| 接口 | 方法 | 路径 | 状态 |
|------|------|------|------|
| AI 影视推荐 | GET | `/api/recommend/movie` | ⏳ 待对接 |
| AI 音乐推荐 | GET | `/api/recommend/music` | ⏳ 待对接 |
| AI 摄影推荐 | GET | `/api/recommend/photo` | ⏳ 待对接 |
| 兴趣关联分析 | GET | `/api/analysis/correlation` | ⏳ 待对接 |
| 个性化画像 | GET | `/api/analysis/profile` | ⏳ 待对接 |
| 年度回顾 | GET | `/api/memory/yearly` | ⏳ 待对接 |
| 一年前的今天 | GET | `/api/memory/today/{date}` | ⏳ 待对接 |
| 时光轴 | GET | `/api/memory/timeline` | ⏳ 待对接 |
| 评价扩展 | POST | `/api/comment/expand` | ⏳ 待对接 |
| 导出统计数据 | GET | `/api/export/statistics` | ⏳ 待对接 |
| 导出照片信息 | GET | `/api/export/photos` | ⏳ 待对接 |
| 导出年度报告 | GET | `/api/export/yearly-report` | ⏳ 待对接 |

### 7.4 技术要点

- **Markdown 渲染**：AI 生成的文本可能需要 Markdown 渲染
- **关系图**：使用 ECharts 的关系图或 `vis-network` 展示关联关系
- **文件下载**：处理文件下载（Blob、URL.createObjectURL）
- **PDF 预览**：如果需要预览 PDF，使用 `pdf.js`

### 7.5 验收标准

- [ ] AI 推荐功能正常展示
- [ ] AI 生成的内容展示正常
- [ ] 关联分析可视化正常
- [ ] 时光回顾功能完整
- [ ] 数据导出功能正常

---

## 八、阶段六：优化与完善（1-2周）

### 8.1 阶段目标

性能优化、用户体验优化、测试与 bug 修复、文档完善。

### 8.2 开发任务清单

#### 8.2.1 性能优化

**任务 1：代码优化**
- [ ] 代码分割优化（路由懒加载、组件懒加载）
- [ ] 图片优化（压缩、WebP格式、CDN）
- [ ] 打包优化（Tree Shaking、压缩）
- [ ] 首屏加载优化

**任务 2：运行时优化**
- [ ] 虚拟滚动（长列表）
- [ ] 防抖和节流优化
- [ ] 缓存策略优化（API 缓存、图片缓存）
- [ ] 减少不必要的重渲染

**任务 3：网络优化**
- [ ] 请求合并
- [ ] 请求取消（页面切换时）
- [ ] 重试机制
- [ ] 离线支持（Service Worker，可选）

#### 8.2.2 用户体验优化

**任务 1：交互优化**
- [ ] 加载状态优化（骨架屏、加载动画）
- [ ] 错误提示优化（友好、可操作）
- [ ] 操作反馈优化（成功提示、确认对话框）
- [ ] 表单体验优化（自动保存、草稿）

**任务 2：响应式优化**
- [ ] 移动端体验优化
- [ ] 触摸手势支持
- [ ] 横竖屏适配

**任务 3：无障碍优化**
- [ ] 键盘导航支持
- [ ] 屏幕阅读器支持
- [ ] 语义化 HTML
- [ ] ARIA 属性

#### 8.2.3 国际化（可选）

**任务 1：i18n 集成**
- [ ] 安装 vue-i18n
- [ ] 配置多语言
- [ ] 翻译文件（中文、英文）
- [ ] 语言切换功能

#### 8.2.4 测试

**任务 1：单元测试**
- [ ] 安装 Vitest
- [ ] 工具函数测试
- [ ] 组件测试（可选）

**任务 2：E2E 测试（可选）**
- [ ] 安装 Playwright 或 Cypress
- [ ] 关键流程测试

#### 8.2.5 Bug 修复

**任务 1：问题修复**
- [ ] 修复已知 bug
- [ ] 处理边界情况
- [ ] 兼容性测试（浏览器兼容）

#### 8.2.6 文档完善

**任务 1：开发文档**
- [ ] 组件文档
- [ ] API 调用文档
- [ ] 开发规范文档

**任务 2：用户文档（可选）**
- [ ] 用户使用手册
- [ ] 功能说明文档

### 8.3 验收标准

- [ ] 性能指标达标（首屏加载时间、交互响应时间）
- [ ] 用户体验良好
- [ ] 无明显 bug
- [ ] 代码质量良好
- [ ] 文档完整

---

## 九、开发规范

### 9.1 代码规范

- **命名规范**：组件使用 PascalCase，文件使用 kebab-case
- **代码风格**：遵循 ESLint 和 Prettier 配置
- **注释规范**：关键逻辑添加注释
- **类型定义**：使用 TypeScript，避免使用 `any`

### 9.2 组件规范

- **组件拆分**：保持组件单一职责，合理拆分
- **Props 定义**：使用 TypeScript 定义 Props 类型
- **事件命名**：使用 kebab-case（如 `@update-value`）
- **插槽使用**：合理使用插槽提高组件复用性

### 9.3 API 调用规范

- **统一封装**：所有 API 调用使用 `src/api` 目录下的封装
- **错误处理**：统一错误处理，友好提示用户
- **加载状态**：API 调用时显示加载状态
- **类型定义**：API 请求和响应使用 TypeScript 类型定义

### 9.4 Git 提交规范

```
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 代码重构
test: 测试相关
chore: 构建/工具相关
perf: 性能优化
```

---

## 十、技术难点与解决方案

### 10.1 图片上传与预览

**难点**：大文件上传、图片压缩、上传进度、预览功能

**解决方案**：
- 使用 `compressorjs` 进行前端图片压缩
- 使用 `XMLHttpRequest` 或 `axios` 的 `onUploadProgress` 显示上传进度
- 使用 `URL.createObjectURL` 实现图片预览

### 10.2 长列表性能

**难点**：大量数据列表渲染性能问题

**解决方案**：
- 使用虚拟滚动（`vue-virtual-scroller`）
- 使用分页加载
- 使用图片懒加载
- 使用 `v-memo` 优化列表渲染

### 10.3 状态管理

**难点**：复杂的状态管理，避免状态混乱

**解决方案**：
- 使用 Pinia 进行状态管理
- 合理划分 store（按模块）
- 避免过度使用全局状态
- 使用 computed 和 watch 合理响应状态变化

### 10.4 响应式设计

**难点**：不同设备尺寸的适配

**解决方案**：
- 使用 Tailwind CSS 响应式工具类
- 使用 `@media` 查询处理特殊场景
- 使用 `vw`、`vh`、`rem` 等相对单位
- 移动端优先的设计策略

### 10.5 数据可视化

**难点**：复杂图表的实现和性能

**解决方案**：
- 使用 ECharts 进行图表渲染
- 大数据量时使用数据采样
- 使用 `requestAnimationFrame` 优化动画
- 合理使用图表的交互功能

---

## 十一、里程碑

| 里程碑 | 时间节点 | 交付物 | 状态 |
|--------|---------|--------|------|
| M1：项目初始化完成 | 第2周 | 项目框架、路由、状态管理、基础UI | ✅ 已完成 |
| M2：用户认证完成 | 第4周 | 登录、注册、用户信息管理 | ⏳ 待开始 |
| M3：核心功能完成 | 第11周 | 四大模块完整功能 | ⏳ 待开始 |
| M4：数据可视化完成 | 第14周 | 统计图表、仪表盘 | ⏳ 待开始 |
| M5：AI功能完成 | 第17周 | AI推荐、AI分析、时光回顾 | ⏳ 待开始 |
| M6：项目上线 | 第19周 | 完整前端应用、文档 | ⏳ 待开始 |

---

## 十二、风险与应对

### 12.1 技术风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| 后端API未就绪 | 高 | 使用 Mock 数据先行开发，定义好接口契约 |
| 性能问题 | 中 | 提前进行性能测试，使用性能优化工具 |
| 浏览器兼容性 | 中 | 使用现代浏览器，必要时添加 polyfill |

### 12.2 进度风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| 开发时间不足 | 高 | 优先实现核心功能，次要功能可延后 |
| 需求变更 | 中 | 保持需求文档更新，及时调整计划 |
| 后端接口变更 | 中 | 保持前后端沟通，使用 TypeScript 类型约束 |

### 12.3 质量风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| 代码质量 | 中 | 代码审查、ESLint 检查 |
| Bug数量 | 中 | 充分测试、及时修复 |
| 用户体验 | 中 | 用户测试、收集反馈 |

---

## 十三、后续扩展方向

### 13.1 功能扩展

- [ ] PWA 支持（离线访问、安装到桌面）
- [ ] 移动端 APP（React Native 或 Uni-app）
- [ ] 社交功能（分享、关注、评论）
- [ ] 实时通知（WebSocket）
- [ ] 数据同步（多设备同步）

### 13.2 技术优化

- [ ] 微前端架构（如果需要）
- [ ] 服务端渲染（SSR，使用 Nuxt.js）
- [ ] 组件库建设
- [ ] 设计系统建设

---

## 十四、总结

本开发计划详细规划了 Interest Tracker 项目的前端开发过程，包括：

1. **6个开发阶段**：从项目初始化到优化完善
2. **详细任务清单**：每个阶段的具体开发任务
3. **技术实现要点**：关键技术问题的解决方案
4. **接口对接**：与后端 API 的对接清单
5. **验收标准**：每个阶段的完成标准
6. **风险应对**：识别和应对潜在风险

**开发建议**：
- 严格按照阶段顺序开发，确保基础功能稳定
- 每个阶段完成后进行充分测试
- 及时更新文档和代码注释
- 保持代码规范和质量
- 遇到问题及时调整计划
- 与后端保持密切沟通，确保接口对接顺利

**预期成果**：
- 完整的前端应用
- 优秀的用户体验
- 完善的开发文档
- 可扩展的代码架构
- 良好的代码质量

---

**文档版本**：v1.0  
**最后更新**：2025年12月16日  
**维护者**：前端开发团队

