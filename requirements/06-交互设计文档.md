# 交互设计文档（IxD）

## 1. 文档信息
- 文档名称：交互设计文档（IxD）
- 版本号：v1.0.0
- 创建日期：2025-12-09
- 最后更新：2025-12-09
- 作者：设计/产品团队
- 状态：草稿

## 2. 目标与范围
- 目标：为 MVP 功能提供明确的交互规则，保障可用性、一致性和可感知的反馈。
- 范围：摄影/影视/音乐/球赛记录的创建、搜索、查看、编辑；时间线/列表回顾；基础统计；权限与状态反馈；AI 调用交互。

## 3. 页面与信息架构（关键节点）
- 入口与导航
  - 顶部导航：兴趣入口（摄影/影视/音乐/球赛）、时间线/回顾、基础统计（卡片）、登录/用户菜单
  - 页内导航：标签/筛选区域、列表/时间线切换
- 主要页面
  - 登录/注册
  - 摄影：列表、上传、详情
  - 影视：列表、搜索创建、详情
  - 音乐：列表、搜索创建、详情
  - 球赛（简版）：列表、创建、详情
  - 时间线/回顾：时间线视图、列表视图
  - 基础统计卡片（嵌入首页/回顾）

## 4. 关键流程（高层）
1) 上传照片 → 选择文件 → 显示上传进度 → AI 标签（默认开启，可关）→ 结果可编辑 → 保存
2) 搜索影视（TMDB）→ 输入关键词 → Loading → 结果列表 → 选择 → 自动填充 → 可编辑 → 保存
3) 搜索音乐（Last.fm）→ 同上
4) 手动创建球赛 → 填写对阵/时间/比分/类型 → 校验 → 保存
5) 列表/时间线 → 过滤（类型/标签/时间）→ 排序（时间/评分）→ 查看详情
6) 基础统计卡片 → 查看数量/时间分布/占比（简版）

## 5. 通用交互规范
- 状态与反馈
  - Loading：列表加载、搜索中、AI 处理中，使用骨架屏/旋转提示；保持容器高度避免跳动
  - 空态：无数据/无搜索结果/AI 失败，提供主 CTA（去上传/去搜索/重试）和辅助链接
  - 错误：可理解文案 + 重试/手动输入；表单校验在字段下方就近提示
  - 成功：轻量通知/Toast；重要操作可带“返回列表/继续创建”二次入口
- 可编辑与撤销
  - AI 生成的标签/描述可编辑、可删除、可新增
  - 评分/状态可编辑；保存后更新列表和详情
  - 取消/返回：表单支持取消，未保存更改提醒（简版：离开前提示）
- 过滤/排序/搜索
  - 过滤与排序可组合；提供“一键清空筛选”
  - 搜索：回车触发，清空按钮，保留最近关键词（可选）
- 键盘与焦点
  - Tab 顺序合理；表单控件可聚焦；Enter 提交，Esc 关闭弹窗/取消
- 响应式（MVP 基础）
  - 桌面优先，常规笔电分辨率适配；移动端保持可用的单列/折叠过滤区

## 6. 功能级交互细则
### 6.1 上传/创建（照片）
- 支持拖拽与点击选择；显示文件名、大小、类型
- 上传进度条；失败可重试/删除
- EXIF 解析完成后回填时间/设备/地点；可手动覆盖
- AI 标签：默认开启；显示“AI 处理中”；完成后展示 3-5 标签，可编辑；失败提示“生成失败，可重试或手动添加”
- 文件校验：类型（JPG/PNG）、大小（≤10MB），失败给出原因

### 6.2 搜索创建（影视/音乐）
- 输入后显示 Loading；无结果提示并允许“手动创建”
- 结果列表项展示：标题/副标题/封面/年份/类型/评分（如有）
- 选择后跳转到创建表单，自动填充可编辑字段；保留返回上一步
- 搜索失败/超限：提示“服务繁忙，请稍后或手动创建”

### 6.3 球赛创建（简版）
- 必填：对阵、时间；可选：比分、类型（联赛/杯赛/友谊赛）
- 日期时间选择器，默认当前日期；过去/未来均可选
- 保存后返回列表并 Toast 提示

### 6.4 列表/时间线
- 列表：支持分页/无限加载（二选一，MVP 可分页）；卡片展示关键信息、标签/状态/评分
- 时间线：按时间分组，支持跳转到详情；提供返回列表视图切换
- 过滤：类型/标签/时间范围；清空筛选按钮
- 排序：时间（默认倒序）；影视/音乐支持评分排序

### 6.5 详情页（通用）
- 展示主信息 + 标签 + 评分/状态 + 时间/来源
- 编辑入口：标签/评分/状态/描述；保存反馈
- AI 再生成（可选）：在照片详情支持“重新生成标签”（受开关/配额限制）

### 6.6 统计卡片（简版）
- 展示：记录总数、按周/月计数、类型占比
- 点击可跳转到时间线或对应列表的过滤视图
- 数据为空：提示“去添加记录”

## 7. 表单与校验
- 必填：标题（可自动填充）、时间、来源/状态（影视/音乐）、对阵+时间（球赛）
- 评分：0.5 颗粒度，范围校验
- 标签：多选+自由输入，数量上限（占位：≤10）
- 位置/GPS：可选字段，若无权限/解析失败保持空

## 8. 状态与文案（示例）
- 加载：正在加载，请稍候…
- AI 处理中：AI 正在生成标签，通常几秒内完成
- AI 失败：生成失败，可重试或手动添加
- 搜索无结果：未找到匹配，试试其他关键词或手动创建
- 上传错误：仅支持 JPG/PNG，文件大小需小于 10MB
- 保存成功：已保存

## 9. 可访问性与易用性
- 颜色/对比度满足基本可读性；按钮/链接有可见焦点
- 键盘操作：Tab/Shift+Tab 导航，Enter 提交，Esc 关闭对话框
- 提示文本简洁，避免行话；错误就近提示

## 10. 组件规范（概要）
- 表单：输入框、选择器、日期/时间选择、评分、标签多选/可编辑
- 列表卡片：标题/副标题、封面/缩略图、标签、状态/评分、时间
- 状态组件：Loading、Empty、Error、Result/Toast
- 上传组件：拖拽/点击、进度、重试/删除
- 过滤条：多选标签、时间范围、排序下拉；清空筛选

## 11. 埋点建议（交互相关，占位）
- 上传/创建成功；搜索成功/失败；AI 调用成功/失败；过滤/排序使用；时间线/统计查看；编辑/保存成功；错误与重试

## 12. 约束与假设
- 免费 API 可能有时延/失败：必须有 Loading 与重试/手动兜底
- 付费 AI 默认关闭；不承诺高并发下的 AI 体验
- MVP 桌面优先，移动端基础可用

## 13. 验收要点（交互向）
- 关键流程可顺畅完成（上传/搜索创建/编辑/过滤/回顾）
- 状态可见：加载/空态/错误/重试/成功反馈完整
- 校验清晰：就近提示，可理解文案
- AI 结果可编辑，失败有兜底
- 过滤/排序结果正确；清空筛选可用
- 可用性：无严重阻塞，表单易填写，默认自动化减少手动步骤

## 14. 追溯与变更
- 与 PRD/FR 对齐：流程、状态、校验、AI 开关、过滤与排序规则
- 变更：记录原因/影响；评审后更新版本号与历史


